
export default function handler(req, res) {
    const vm = require('node:vm');

    const context = {
        calcloop: 100000,
        evalStr: undefined
    }

    vm.createContext(context);

    const code =` 
    var evalStr = 1;
    for(let i = 1; i <= calcloop; i++) {
        evalStr += Math.exp(Math.atan(Math.floor(Math.sqrt(Math.log(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.tan(Math.sqrt(Math.log(3.1)))))*2)), 2))))), 2))))))**Math.exp(Math.atan(Math.floor(Math.sqrt(Math.log(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.tan(Math.sqrt(Math.log(3.1)))))*2)), 2))))), 2))))))**Math.exp(Math.atan(Math.floor(Math.sqrt(Math.log(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.tan(Math.sqrt(Math.log(3.1)))))*2)), 2))))), 2))))))**Math.exp(Math.atan(Math.floor(Math.sqrt(Math.log(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.tan(Math.sqrt(Math.log(3.1)))))*2)), 2))))), 2))))))*Math.exp(Math.atan(Math.floor(Math.sqrt(Math.log(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.tan(Math.sqrt(Math.log(3.1)))))*2)), 2))))), 2))))))*Math.exp(Math.atan(Math.floor(Math.sqrt(Math.log(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.tan(Math.sqrt(Math.log(3.1)))))*2)), 2))))), 2))))))*Math.exp(Math.atan(Math.floor(Math.sqrt(Math.log(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.tan(Math.sqrt(Math.log(3.1)))))*2)), 2))))), 2))))))*Math.exp(Math.atan(Math.floor(Math.sqrt(Math.log(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.tan(Math.sqrt(Math.log(3.1)))))*2)), 2))))), 2))))))*Math.exp(Math.atan(Math.floor(Math.sqrt(Math.log(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.tan(Math.sqrt(Math.log(3.1)))))*2)), 2))))), 2))))))*Math.exp(Math.atan(Math.floor(Math.sqrt(Math.log(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.tan(Math.sqrt(Math.log(3.1)))))*2)), 2))))), 2))))))*Math.exp(Math.atan(Math.floor(Math.sqrt(Math.log(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.tan(Math.sqrt(Math.log(3.1)))))*2)), 2))))), 2))))))*Math.exp(Math.atan(Math.floor(Math.sqrt(Math.log(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.tan(Math.sqrt(Math.log(3.1)))))*2)), 2))))), 2))))))*Math.exp(Math.atan(Math.floor(Math.sqrt(Math.log(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.tan(Math.sqrt(Math.log(3.1)))))*2)), 2))))), 2))))))*Math.exp(Math.atan(Math.floor(Math.sqrt(Math.log(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.tan(Math.sqrt(Math.log(3.1)))))*2)), 2))))), 2))))))*Math.exp(Math.atan(Math.floor(Math.sqrt(Math.log(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.tan(Math.sqrt(Math.log(3.1)))))*2)), 2))))), 2))))))*Math.exp(Math.atan(Math.floor(Math.sqrt(Math.log(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.tan(Math.sqrt(Math.log(3.1)))))*2)), 2))))), 2))))))*Math.exp(Math.atan(Math.floor(Math.sqrt(Math.log(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.tan(Math.sqrt(Math.log(3.1)))))*2)), 2))))), 2))))))*Math.exp(Math.atan(Math.floor(Math.sqrt(Math.log(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.tan(Math.sqrt(Math.log(3.1)))))*2)), 2))))), 2))))))*Math.exp(Math.atan(Math.floor(Math.sqrt(Math.log(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.tan(Math.sqrt(Math.log(3.1)))))*2)), 2))))), 2))))))*Math.exp(Math.atan(Math.floor(Math.sqrt(Math.log(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.tan(Math.sqrt(Math.log(3.1)))))*2)), 2))))), 2))))))*Math.exp(Math.atan(Math.floor(Math.sqrt(Math.log(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.tan(Math.sqrt(Math.log(3.1)))))*2)), 2))))), 2))))))*Math.exp(Math.atan(Math.floor(Math.sqrt(Math.log(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.tan(Math.sqrt(Math.log(3.1)))))*2)), 2))))), 2))))))*Math.exp(Math.atan(Math.floor(Math.sqrt(Math.log(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.tan(Math.sqrt(Math.log(3.1)))))*2)), 2))))), 2))))))*Math.exp(Math.atan(Math.floor(Math.sqrt(Math.log(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.tan(Math.sqrt(Math.log(3.1)))))*2)), 2))))), 2))))))*Math.exp(Math.atan(Math.floor(Math.sqrt(Math.log(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.tan(Math.sqrt(Math.log(3.1)))))*2)), 2))))), 2))))))*Math.exp(Math.atan(Math.floor(Math.sqrt(Math.log(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.tan(Math.sqrt(Math.log(3.1)))))*2)), 2))))), 2))))))*Math.exp(Math.atan(Math.floor(Math.sqrt(Math.log(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.tan(Math.sqrt(Math.log(3.1)))))*2)), 2))))), 2))))))*Math.exp(Math.atan(Math.floor(Math.sqrt(Math.log(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.tan(Math.sqrt(Math.log(3.1)))))*2)), 2))))), 2))))))*Math.exp(Math.atan(Math.floor(Math.sqrt(Math.log(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.tan(Math.sqrt(Math.log(3.1)))))*2)), 2))))), 2))))))*Math.exp(Math.atan(Math.floor(Math.sqrt(Math.log(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.tan(Math.sqrt(Math.log(3.1)))))*2)), 2))))), 2))))))*Math.exp(Math.atan(Math.floor(Math.sqrt(Math.log(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.tan(Math.sqrt(Math.log(3.1)))))*2)), 2))))), 2))))))*Math.exp(Math.atan(Math.floor(Math.sqrt(Math.log(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.tan(Math.sqrt(Math.log(3.1)))))*2)), 2))))), 2))))))*Math.exp(Math.atan(Math.floor(Math.sqrt(Math.log(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.tan(Math.sqrt(Math.log(3.1)))))*2)), 2))))), 2))))))*Math.exp(Math.atan(Math.floor(Math.sqrt(Math.log(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.tan(Math.sqrt(Math.log(3.1)))))*2)), 2))))), 2))))))*Math.exp(Math.atan(Math.floor(Math.sqrt(Math.log(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.tan(Math.sqrt(Math.log(3.1)))))*2)), 2))))), 2))))))*Math.exp(Math.atan(Math.floor(Math.sqrt(Math.log(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.tan(Math.sqrt(Math.log(3.1)))))*2)), 2))))), 2))))))*Math.exp(Math.atan(Math.floor(Math.sqrt(Math.log(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.tan(Math.sqrt(Math.log(3.1)))))*2)), 2))))), 2))))))*Math.exp(Math.atan(Math.floor(Math.sqrt(Math.log(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.pow(Math.exp(Math.atan(Math.sin(Math.cos(Math.tan(Math.sqrt(Math.log(3.1)))))*2)), 2))))), 2))))))
    }
    `

    vm.runInContext(code, context);

    res.status(200).json({ result: context.evalStr })
}